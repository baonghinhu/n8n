<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skywise Knowledge Base</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="n8n-chat-custom.css">
    <style>
        :root {
            --skywise-dark-blue: #1a2b4a;
            --skywise-darker-blue: #08193d;
            /* --skywise-dark-blue: #00205b;
            --skywise-darker-blue: #011133; */
            --skywise-pink: #e91e63;
            --skywise-light-blue: #4a90e2;
            --skywise-light-gray: #ced5dd;
            --text-white: #ffffff;
            --text-light: #f0f4f8;
            --text-dark: #2c3e50;
            --bg-overlay: rgba(26, 43, 74, 0.95);
            --shadow-light: rgba(255, 255, 255, 0.1);
            --shadow-dark: rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background: radial-gradient(ellipse at center, var(--skywise-dark-blue) 0%, var(--skywise-dark-blue) 75%, var(--skywise-pink) 100%);
            min-height: 100vh;
            color: white;
            line-height: 1.6;
            letter-spacing: 0.01em;
        }
        
        /* body::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="dots" width="10" height="10" patternUnits="userSpaceOnUse"><circle cx="5" cy="5" r="1" fill="%23ffffff" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23dots)"/></svg>');
            opacity: 0.3;
            z-index: 0;
        } */

        .logo-text {
            font-weight: 500;
            letter-spacing: -1px;
        }

        .logo-dot {
            display: inline-block;
            width: 6px;
            height: 6px;
            background-color: var(--skywise-pink);
            border-radius: 50%;
            margin-left: 2px;
            vertical-align: baseline;
            /* position: relative; */
            position: static; 
            /* top: -2px; */
        }

        .logo-dot-l {
            width: 12px;
            height: 12px;
        }

        .header-large {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .header-sticky {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            /* background: rgba(0, 32, 91, 0.95); */
            background: var(--skywise-darker-blue);
            backdrop-filter: blur(20px);
            z-index: 100;
            padding: 1rem 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .search-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .search-input:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--skywise-pink);
            box-shadow: 0 0 0 3px rgba(233, 30, 99, 0.2);
            outline: none;
        }

        .sidebar-nav {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .nav-item:hover, .nav-item.active {
            background: rgba(255, 255, 255, 0.1);
            border-left-color: var(--skywise-pink);
        }

        .content-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .ai-chat-button {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, var(--skywise-light-blue), var(--skywise-pink));
            border: none;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(233, 30, 99, 0.4);
            transition: all 0.3s ease;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .ai-chat-button:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 35px rgba(233, 30, 99, 0.6);
        }

        .ai-chat-panel {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 400px;
            height: 500px;
            background: rgba(0, 32, 91, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            transform: translateY(100vh);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 999;
            display: flex;
            flex-direction: column;
        }

        .ai-chat-panel.open {
            transform: translateY(0);
        }

        .floating-elements {
            /* position: absolute; */
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            /* height: 100%; */
            overflow: hidden;
            pointer-events: none;
            z-index: 0;
        }

        .floating-dot {
            position: absolute;
            width: 10px;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 3s ease-in-out infinite;
        }

        /* @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.1; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.3; }
        } */

        @keyframes float {
            0%, 100% { 
                transform: scale(1); 
                opacity: 0.1; 
            }
            50% { 
                transform: scale(1.5); 
                opacity: 0.5; 
            }
        }

        .content-transition {
            transition: margin-top 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @media (max-width: 768px) {
            .sidebar-nav {
                display: none;
            }
            
            .ai-chat-panel {
                width: calc(100vw - 2rem);
                height: 60vh;
                right: 1rem;
                bottom: 1rem;
            }

            .ai-chat-button {
                right: 1rem;
                bottom: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="floating-elements">
        <div class="floating-dot" style="top: 10%; right: 15%; animation-delay: 0s;"></div>
        <div class="floating-dot" style="top: 20%; right: 25%; animation-delay: 1s;"></div>
        <div class="floating-dot" style="top: 30%; right: 35%; animation-delay: 2s;"></div>
        <div class="floating-dot" style="top: 40%; right: 45%; animation-delay: 3s;"></div>
        <div class="floating-dot" style="top: 50%; right: 55%; animation-delay: 4s;"></div>
        <div class="floating-dot" style="top: 60%; right: 20%; animation-delay: 5s;"></div>
    </div>

    <!-- Large Header -->
    <header id="headerLarge" class="header-large text-center py-16 px-8 relative z-10">
        <h1 class="text-6xl md:text-7xl logo-text mb-4">
            skywise<span class="logo-dot logo-dot-l"></span>
        </h1>
        <p class="text-xl md:text-2xl font-light mb-8 opacity-90">The beating heart of aviation</p>
        
        <div class="max-w-2xl mx-auto relative">
            <input 
                type="text" 
                id="searchLarge"
                class="w-full px-6 py-4 text-lg search-input rounded-full text-white placeholder-gray-300"
                placeholder="Search documentation, guides, and tutorials..."
            >
            <i class="fas fa-search absolute right-6 top-1/2 transform -translate-y-1/2 text-gray-300"></i>
        </div>
    </header>

    <!-- Sticky Header -->
    <div id="headerSticky" class="header-sticky hidden">
        <div class="flex items-center justify-between max-w-7xl mx-auto">
            <h1 class="text-2xl logo-text">
                skywise<span class="logo-dot"></span>
            </h1>
            
            <div class="flex-1 max-w-md mx-8">
                <div class="relative">
                    <input 
                        type="text" 
                        id="searchSticky"
                        class="w-full px-4 py-2 search-input rounded-full text-white placeholder-gray-300"
                        placeholder="Search..."
                    >
                    <i class="fas fa-search absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-300"></i>
                </div>
            </div>

            <nav class="hidden md:flex space-x-6">
                <a href="#" class="hover:text-pink-400 transition-colors">Documentation</a>
                <a href="#" class="hover:text-pink-400 transition-colors">API</a>
                <a href="#" class="hover:text-pink-400 transition-colors">Support</a>
            </nav>
        </div>
    </div>

    <!-- Main Content -->
    <div id="mainContent" class="content-transition">
        <div class="max-w-7xl mx-auto px-4 md:px-8 pb-16">
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
                <!-- Sidebar Navigation -->
                <aside class="lg:col-span-1">
                    <div class="sidebar-nav rounded-2xl p-6 sticky top-24">
                        <h3 class="font-semibold mb-4 text-pink-400">Categories</h3>
                        <nav class="space-y-2">
                            <a href="#" class="nav-item block px-4 py-3 rounded-lg active">
                                <i class="fas fa-rocket mr-3"></i>Getting Started
                            </a>
                            <a href="#" class="nav-item block px-4 py-3 rounded-lg">
                                <i class="fas fa-chart-line mr-3"></i>Data Analytics
                            </a>
                            <a href="#" class="nav-item block px-4 py-3 rounded-lg">
                                <i class="fas fa-code mr-3"></i>API Reference
                            </a>
                            <a href="#" class="nav-item block px-4 py-3 rounded-lg">
                                <i class="fas fa-shield-alt mr-3"></i>Security
                            </a>
                            <a href="#" class="nav-item block px-4 py-3 rounded-lg">
                                <i class="fas fa-cogs mr-3"></i>Best Practices
                            </a>
                            <a href="#" class="nav-item block px-4 py-3 rounded-lg">
                                <i class="fas fa-lightbulb mr-3"></i>Use Cases
                            </a>
                            <a href="#" class="nav-item block px-4 py-3 rounded-lg">
                                <i class="fas fa-question-circle mr-3"></i>FAQ
                            </a>
                        </nav>

                        <div class="mt-8 p-4 bg-gradient-to-r from-blue-600 to-pink-600 rounded-xl">
                            <h4 class="font-semibold mb-2">Need Help?</h4>
                            <p class="text-sm opacity-90 mb-3">Contact our aviation experts for personalized support.</p>
                            <button class="w-full bg-white text-blue-900 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors">
                                Contact Support
                            </button>
                        </div>
                    </div>
                </aside>

                <!-- Main Content Area -->
                <main class="lg:col-span-3">
                    <!-- Featured Section -->
                    <section class="mb-12">
                        <div class="content-card rounded-2xl p-8">
                            <div class="flex items-center mb-6">
                                <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-pink-500 rounded-xl flex items-center justify-center mr-4">
                                    <i class="fas fa-plane text-xl"></i>
                                </div>
                                <div>
                                    <h2 class="text-2xl font-semibold">Welcome to Skywise</h2>
                                    <p class="text-gray-300">Your comprehensive aviation data platform</p>
                                </div>
                            </div>
                            
                            <p class="text-gray-200 leading-relaxed mb-6">
                                As the world's leading aviation data platform, Skywise aims to improve operational efficiency across our industry by breaking data silos within organizations. Discover how to unlock the full potential of your aviation data with our comprehensive tools and analytics.
                            </p>

                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="bg-white bg-opacity-5 p-4 rounded-xl">
                                    <div class="text-pink-400 text-2xl font-bold">500+</div>
                                    <div class="text-sm text-gray-300">Airlines Connected</div>
                                </div>
                                <div class="bg-white bg-opacity-5 p-4 rounded-xl">
                                    <div class="text-pink-400 text-2xl font-bold">12k+</div>
                                    <div class="text-sm text-gray-300">Aircraft Monitored</div>
                                </div>
                                <div class="bg-white bg-opacity-5 p-4 rounded-xl">
                                    <div class="text-pink-400 text-2xl font-bold">50M+</div>
                                    <div class="text-sm text-gray-300">Flight Hours Analyzed</div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Quick Start Guide -->
                    <section class="mb-12">
                        <h3 class="text-xl font-semibold mb-6">Quick Start Guide</h3>
                        
                        <div class="feature-grid">
                            <div class="content-card rounded-xl p-6 hover:bg-white hover:bg-opacity-10 transition-all duration-300 cursor-pointer">
                                <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-pink-500 rounded-lg flex items-center justify-center mb-4">
                                    <i class="fas fa-play text-white"></i>
                                </div>
                                <h4 class="font-semibold mb-2">Getting Started</h4>
                                <p class="text-gray-300 text-sm leading-relaxed mb-3">
                                    Learn the fundamentals and set up your first Skywise integration in minutes.
                                </p>
                                <div class="flex items-center text-pink-400 text-sm">
                                    <span>Start Tutorial</span>
                                    <i class="fas fa-arrow-right ml-2"></i>
                                </div>
                            </div>

                            <div class="content-card rounded-xl p-6 hover:bg-white hover:bg-opacity-10 transition-all duration-300 cursor-pointer">
                                <div class="w-10 h-10 bg-gradient-to-r from-green-500 to-blue-500 rounded-lg flex items-center justify-center mb-4">
                                    <i class="fas fa-database text-white"></i>
                                </div>
                                <h4 class="font-semibold mb-2">Data Integration</h4>
                                <p class="text-gray-300 text-sm leading-relaxed mb-3">
                                    Connect your aircraft data sources and start streaming real-time information.
                                </p>
                                <div class="flex items-center text-pink-400 text-sm">
                                    <span>View Guide</span>
                                    <i class="fas fa-arrow-right ml-2"></i>
                                </div>
                            </div>

                            <div class="content-card rounded-xl p-6 hover:bg-white hover:bg-opacity-10 transition-all duration-300 cursor-pointer">
                                <div class="w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center mb-4">
                                    <i class="fas fa-chart-bar text-white"></i>
                                </div>
                                <h4 class="font-semibold mb-2">Analytics Dashboard</h4>
                                <p class="text-gray-300 text-sm leading-relaxed mb-3">
                                    Create powerful visualizations and insights from your aviation data.
                                </p>
                                <div class="flex items-center text-pink-400 text-sm">
                                    <span>Explore Dashboard</span>
                                    <i class="fas fa-arrow-right ml-2"></i>
                                </div>
                            </div>

                            <div class="content-card rounded-xl p-6 hover:bg-white hover:bg-opacity-10 transition-all duration-300 cursor-pointer">
                                <div class="w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center mb-4">  
                                    <i class="fas fa-tools text-white"></i>
                                </div>
                                <h4 class="font-semibold mb-2">API Integration</h4>
                                <p class="text-gray-300 text-sm leading-relaxed mb-3">
                                    Integrate Skywise capabilities directly into your applications and workflows.
                                </p>
                                <div class="flex items-center text-pink-400 text-sm">
                                    <span>Browse APIs</span>
                                    <i class="fas fa-arrow-right ml-2"></i>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Recent Updates -->
                    <section>
                        <h3 class="text-xl font-semibold mb-6">Recent Updates</h3>
                        
                        <div class="space-y-4">
                            <div class="content-card rounded-xl p-6">
                                <div class="flex items-start justify-between">
                                    <div class="flex-1">
                                        <h4 class="font-semibold mb-2">Enhanced Predictive Maintenance Analytics</h4>
                                        <p class="text-gray-300 text-sm leading-relaxed mb-3">
                                            New machine learning algorithms now provide 95% accuracy in predicting component failures, reducing unscheduled maintenance by 40%.
                                        </p>
                                        <div class="flex items-center text-xs text-gray-400">
                                            <i class="fas fa-calendar mr-2"></i>
                                            <span>2 days ago</span>
                                            <span class="mx-2">•</span>
                                            <span class="text-pink-400">Feature Update</span>
                                        </div>
                                    </div>
                                    <div class="w-2 h-2 bg-pink-400 rounded-full mt-2 ml-4"></div>
                                </div>
                            </div>

                            <div class="content-card rounded-xl p-6">
                                <div class="flex items-start justify-between">
                                    <div class="flex-1">
                                        <h4 class="font-semibold mb-2">New API Endpoints for Fleet Management</h4>
                                        <p class="text-gray-300 text-sm leading-relaxed mb-3">
                                            Access comprehensive fleet performance metrics and real-time aircraft status through our expanded REST API.
                                        </p>
                                        <div class="flex items-center text-xs text-gray-400">
                                            <i class="fas fa-calendar mr-2"></i>
                                            <span>1 week ago</span>
                                            <span class="mx-2">•</span>
                                            <span class="text-blue-400">API Release</span>
                                        </div>
                                    </div>
                                    <div class="w-2 h-2 bg-blue-400 rounded-full mt-2 ml-4"></div>
                                </div>
                            </div>

                            <div class="content-card rounded-xl p-6">
                                <div class="flex items-start justify-between">
                                    <div class="flex-1">
                                        <h4 class="font-semibold mb-2">Security Enhancement: Two-Factor Authentication</h4>
                                        <p class="text-gray-300 text-sm leading-relaxed mb-3">
                                            Enhanced security measures now include mandatory 2FA for all admin accounts and improved audit logging.
                                        </p>
                                        <div class="flex items-center text-xs text-gray-400">
                                            <i class="fas fa-calendar mr-2"></i>
                                            <span>2 weeks ago</span>
                                            <span class="mx-2">•</span>
                                            <span class="text-green-400">Security Update</span>
                                        </div>
                                    </div>
                                    <div class="w-2 h-2 bg-green-400 rounded-full mt-2 ml-4"></div>
                                </div>
                            </div>
                        </div>
                    </section>
                </main>
            </div>
        </div>
    </div>

    <!-- AI Chat Button -->
    <!-- <button class="ai-chat-button" onclick="toggleChat()">
        <i class="fas fa-robot"></i>
    </button> -->

    <!-- AI Chat Panel -->
    <!-- <div class="ai-chat-panel" id="chatPanel">
        <div class="flex items-center justify-between p-6 border-b border-white border-opacity-10">
            <div class="flex items-center">
                <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center mr-3">
                    <i class="fas fa-plane text-white"></i>
                </div>
                <div>
                    <h4 class="font-semibold">Skywise AI Assistant</h4>
                    <p class="text-xs text-gray-300">Online</p>
                </div>
            </div>
            <button onclick="toggleChat()" class="w-8 h-8 rounded-full bg-white bg-opacity-10 flex items-center justify-center hover:bg-opacity-20 transition-colors">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="flex-1 p-6 overflow-y-auto">
            <div class="bg-white bg-opacity-10 rounded-xl p-4 mb-4">
                <div class="flex items-start">
                    <div class="w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center mr-3 mt-1">
                        <i class="fas fa-robot text-xs"></i>
                    </div>
                    <div>
                        <p class="text-sm leading-relaxed">
                            👋 Hello! I'm your Skywise AI assistant. I can help you navigate our knowledge base, explain aviation concepts, and guide you through platform features. How can I assist you today?
                        </p>
                        <div class="flex flex-wrap gap-2 mt-3">
                            <button class="px-3 py-1 bg-pink-500 bg-opacity-20 rounded-full text-xs hover:bg-opacity-30 transition-colors">
                                Getting Started
                            </button>
                            <button class="px-3 py-1 bg-pink-500 bg-opacity-20 rounded-full text-xs hover:bg-opacity-30 transition-colors">
                                API Documentation
                            </button>
                            <button class="px-3 py-1 bg-pink-500 bg-opacity-20 rounded-full text-xs hover:bg-opacity-30 transition-colors">
                                Troubleshooting
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div> -->
        
        <!-- <div class="p-6 border-t border-white border-opacity-10">
            <div class="flex items-center">
                <input 
                    type="text" 
                    class="flex-1 px-4 py-2 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-full text-white placeholder-gray-300 text-sm"
                    placeholder="Ask me anything about Skywise..."
                    onkeypress="handleEnter(event)"
                >
                <button class="ml-3 w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center hover:bg-pink-600 transition-colors">
                    <i class="fas fa-paper-plane text-sm"></i>
                </button>
            </div>
        </div>
    </div> -->

    <script>
        let isHeaderSticky = false;
        webhookUrl: 'https://nghintb.app.n8n.cloud/webhook/77b05aa5-10a2-4698-8e22-3860e0f1ccdb/chat',
        window.addEventListener('scroll', function() {
            const scrollPosition = window.scrollY;
            const headerLarge = document.getElementById('headerLarge');
            const headerSticky = document.getElementById('headerSticky');
            const mainContent = document.getElementById('mainContent');
            
            if (scrollPosition > 200 && !isHeaderSticky) {
                isHeaderSticky = true;
                headerLarge.style.transform = 'translateY(-100%)';
                headerLarge.style.opacity = '0';
                headerSticky.classList.remove('hidden');
                mainContent.style.marginTop = '80px';
            } else if (scrollPosition <= 200 && isHeaderSticky) {
                isHeaderSticky = false;
                headerLarge.style.transform = 'translateY(0)';
                headerLarge.style.opacity = '1';
                headerSticky.classList.add('hidden');
                mainContent.style.marginTop = '0';
            }
        });

        // function toggleChat() {
        //     const panel = document.getElementById('chatPanel');
        //     panel.classList.toggle('open');
        // }

        // function handleEnter(event) {
        //     if (event.key === 'Enter') {
        //         const input = event.target;
        //         const message = input.value.trim();
        //         if (message) {
        //             addMessage(message, 'user');
        //             input.value = '';
        //             setTimeout(() => {
        //                 addMessage('Thanks for your question! I\'m processing your request and will provide detailed information about "' + message + '" shortly. Our aviation experts are here to help you succeed with Skywise.', 'assistant');
        //             }, 1000);
        //         }
        //     }
        // }

        // function addMessage(text, sender) {
        //     const messagesContainer = document.querySelector('.ai-chat-panel .overflow-y-auto');
        //     const messageDiv = document.createElement('div');
        //     messageDiv.className = 'bg-white bg-opacity-10 rounded-xl p-4 mb-4';
            
        //     const isUser = sender === 'user';
        //     const iconBg = isUser ? 'bg-blue-500' : 'bg-pink-500';
        //     const icon = isUser ? 'fas fa-user' : 'fas fa-robot';
            
        //     messageDiv.innerHTML = `
        //         <div class="flex items-start">
        //             <div class="w-6 h-6 ${iconBg} rounded-full flex items-center justify-center mr-3 mt-1">
        //                 <i class="${icon} text-xs"></i>
        //             </div>
        //             <p class="text-sm leading-relaxed">${text}</p>
        //         </div>
        //     `;
            
        //     messagesContainer.appendChild(messageDiv);
        //     messagesContainer.scrollTop = messagesContainer.scrollHeight;
        // }

        // Sync search inputs
        document.getElementById('searchLarge').addEventListener('input', function(e) {
            document.getElementById('searchSticky').value = e.target.value;
        });

        document.getElementById('searchSticky').addEventListener('input', function(e) {
            document.getElementById('searchLarge').value = e.target.value;
        });

        // Add floating animation to dots
        function createFloatingDots() {
            const container = document.querySelector('.floating-elements');
            for (let i = 0; i < 100; i++) {
                const dot = document.createElement('div');
                dot.className = 'floating-dot';
                dot.style.top = Math.random() * 100 + '%';
                dot.style.right = Math.random() * 100 + '%';
                dot.style.animationDelay = Math.random() * 6 + 's';
                container.appendChild(dot);
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            createFloatingDots();

            const floatingContainer = document.querySelector('.floating-elements');
            const parallaxFactor = 0.5; // The speed of the parallax scroll

            function setContainerHeight() {
                const pageHeight = document.body.scrollHeight;
                const viewportHeight = window.innerHeight;
                
                // Calculate the exact height needed to prevent a gap at the bottom
                const requiredHeight = pageHeight - (pageHeight - viewportHeight) * parallaxFactor;
                floatingContainer.style.height = `${requiredHeight}px`;
            }

            setContainerHeight();

            // New parallax scroll listener
            window.addEventListener('scroll', function() {
                const floatingBg = document.querySelector('.floating-elements');
                const scrollPosition = window.scrollY;
                
                floatingBg.style.transform = `translateY(${scrollPosition * 0.5}px)`;
            });

            // Recalculate height if window is resized
            window.addEventListener('resize', setContainerHeight);
        });
    </script>    <!-- Nút nổi mở chat n8n -->
    <!-- <button id="n8n-chat-toggle" class="ai-chat-button" aria-label="Open n8n chat">
        <i class="fas fa-comments"></i>
    </button> -->
    
    <!-- Box chat n8n -->
    <!-- <div id="n8n-chat" style="
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        width: 400px;
        max-width: 95vw;
        height: 500px;
        z-index: 1000;
        display: none;
        box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        border-radius: 16px;
        overflow: hidden; -->
    <!-- "></div>     -->
    <script type="module">
    import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js';
    
    createChat({
        webhookUrl: 'https://nghintb.app.n8n.cloud/webhook/77b05aa5-10a2-4698-8e22-3860e0f1ccdb/chat',
        webhookConfig: {
            method: 'POST',
            headers: {}
        },
        target: '#n8n-chat',
        mode: 'window',
        chatInputKey: 'chatInput',
        chatSessionKey: 'sessionId',
        loadPreviousSession: true,
        metadata: {},
        showWelcomeScreen: false,
        defaultLanguage: 'en',
        initialMessages: [
            'Hi there! 👋',
            'My name is Skywise Agent. How can I assist you today?'
        ],
        i18n: {
            en: {
                title: 'Hi there! 👋',
                subtitle: "Start a chat. We're here to help you 24/7.",
                footer: '',
                getStarted: 'New Conversation',
                inputPlaceholder: 'Type your question..',
            },
        },
        enableStreaming: false,
    });
    
    // Toggle chat popup
    const toggleBtn = document.getElementById('n8n-chat-toggle');
    const chatDiv = document.getElementById('n8n-chat');
    let chatOpen = false;
    toggleBtn.onclick = () => {
        chatOpen = !chatOpen;
        chatDiv.style.display = chatOpen ? 'block' : 'none';
    };
    </script>
</body>
</html>